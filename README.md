# Face Verifycation

## 说明

这个程序是武汉大学国家网络安全学院的嵌入式系统安全课程的课程设计。

目标是设计一个嵌入式系统的软件，使用软件体现一些安全的设计方法。

这个程序使用OpenCV作为图像处理的模块，调用了摄像头捕获人脸

相关的检测人脸的模型和用来人脸比对的训练器均为OpenCV官方给出的例子

图形界面是使用PyQt5写的

由于是一晚上期末突击出来的，代码写的比较辣鸡

有时间再考虑进一步的更改

本身设计是用来在树莓派上运行的，但是同样可以在PC上运行

## 用法

首先需要安装相关的依赖，进入一个新建的虚拟环境后

```bash
pip install -r requirements.txt
```
安装OpenCV时需要注意还要安装另一个附加组件

运行时直接用python运行main即可
```bash
python main.py
```

需要注意的是，代码开始处的*cam_number* 变量是用于指定选择的摄像头的

在树莓派或是USB外接摄像头时需要将标号设置为1

标号0代表笔记本电脑自带的摄像头


## 安全设计

本身目的是体现安全的设计，这个程序的安全功能主要体现在几个方面：

对摄像头的输入预处理，首先作一个人脸识别并剪切出人脸，去除干扰图像
(对应在其他系统中作用是输入的滤波)

在输入人脸时弹窗进行确认(参数确认)

在系统录入人脸时若长时间得不到相应，则自动退出录入界面，回到主页
(这一部分对应嵌入式系统的看门狗定时器，实现代码在WDT.py中)

抗SCA的随机噪声，在核心代码运行时持续生成随机数(用于生成噪声能量,属于运行冗余)

文件备份，生成的训练模型文件(xml)在本地有两个备份，每次读取时检测Hash
(对应嵌入式系统中应当保存为数据单元)



